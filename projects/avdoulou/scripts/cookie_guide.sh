#!/bin/bash
# Twitter/X Cookie è·å–æŒ‡å—

cat << 'EOF'
ğŸª Twitter/X Cookie è·å–æŒ‡å—
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ–¹æ³•ä¸€ï¼šChrome å¼€å‘è€…å·¥å…·ï¼ˆæ¨èï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. åœ¨æµè§ˆå™¨ä¸­ç™»å½• https://twitter.com

2. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼š
   - Mac: Cmd + Option + I
   - Windows: F12 æˆ– Ctrl + Shift + I

3. åˆ‡æ¢åˆ° "Network" (ç½‘ç»œ) æ ‡ç­¾

4. åˆ·æ–°é¡µé¢ (Cmd+R / F5)

5. ç‚¹å‡»ä»»æ„è¯·æ±‚ï¼ŒæŸ¥çœ‹ "Request Headers"

6. æ‰¾åˆ° "Cookie:" å­—æ®µï¼Œå¤åˆ¶å®Œæ•´å€¼

7. æå–å…³é”®å­—æ®µï¼š
   auth_token=xxxxx; ct0=xxxxx; twid=xxxxx

æ–¹æ³•äºŒï¼šä½¿ç”¨ AppleScript ä¸€é”®æå–
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

  osascript << 'APPLESCRIPT'
  tell application "Google Chrome"
    activate
    -- æ‰“å¼€ Twitter å¹¶æ‰“å¼€å¼€å‘è€…å·¥å…·
    open location "https://twitter.com"
    delay 2
    -- æ‰“å¼€å¼€å‘è€…å·¥å…·åˆ° Network æ ‡ç­¾
    execute front window's active tab javascript "chrome.devtools.inspectedWindow.reload();"
  end tell
  APPLESCRIPT

æ–¹æ³•ä¸‰ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

è¿è¡Œé¡¹ç›®ä¸­çš„æå–è„šæœ¬ï¼š

  ./scripts/get_x_cookie.sh

éªŒè¯ Cookie
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

è·å– Cookie åï¼Œè¿è¡Œæµ‹è¯•ï¼š

  python3 -c "
from config import Config
import os
c = Config()
cf = c.get_twitter_cookie_file()
if cf:
    print('âœ… Cookie æœ‰æ•ˆ')
    print(f'æ–‡ä»¶: {cf}')
    os.remove(cf)
else:
    print('âŒ Cookie æ— æ•ˆæˆ–æœªé…ç½®')
"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EOF
